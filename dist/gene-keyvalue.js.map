{"version":3,"file":"gene-keyvalue.js","sources":["../../../../../../../Users/marco.chan/Workspace/PMDB/riken-precision_medicine_stanza/stanzas/gene-keyvalue/App.svelte","../../../../../../../Users/marco.chan/Workspace/PMDB/riken-precision_medicine_stanza/stanzas/gene-keyvalue/index.js"],"sourcesContent":["<script>\n  import Fa from \"svelte-fa\";\n  import { faCircleChevronRight } from \"@fortawesome/free-solid-svg-icons\";\n  export let term;\n\n  // define the object structure from api\n  let geneData = [\n    {\n      symbol: term,\n      assembly: \"\",\n      chromosome: \"\",\n      position: \"\",\n    },\n  ];\n\n  // Get window object\n  const handleFetchRequestDone = () => {\n    let fetchGeneData = window.$fetchedData.gene;\n    geneData = [\n      {\n        symbol: term,\n        assembly: fetchGeneData[0].assembly,\n        chromosome: fetchGeneData[0].chromosome,\n        position: fetchGeneData[0].position,\n      },\n    ];\n    window.dispatchEvent(new CustomEvent(\"childHasGotData\"));\n  };\n  window.addEventListener(\"fetchRequestDone\", handleFetchRequestDone);\n\n  // When api is not okay\n  // setTimeout(() => {\n  //   gene = [\n  //     {\n  //       assembly: \"hg38\",\n  //       chromosome: \"chr1\",\n  //       position: \"123456\",\n  //     },\n  //   ];\n  // }, 1000);\n\n  // define the object structure for display\n  $: geneList = [\n    { key: \"Symbol\", value: term },\n    { key: \"Assembly\", value: geneData[0].assembly },\n    { key: \"Chromosome\", value: geneData[0].chromosome },\n    { key: \"Position\", value: geneData[0].position },\n  ];\n</script>\n\n<div class=\"gene-keyvalue\">\n  <h3 class=\"title\">Gene Information</h3>\n  <table>\n    {#each geneList as { key, value }, index}\n      <tr>\n        <th>{key}</th>\n        <td>\n          {#if index === 0}\n            <a\n              href={`${window.location.origin}/dev/genes/details?uniprot_acc=Q9UM73&assembly=grch38&genename=${term}`}\n              >{value}\n              <Fa\n                icon={faCircleChevronRight}\n                size=\"90%\"\n                color=\"var(--gene-color)\"\n              />\n            </a>\n          {:else}\n            {value ? value : \"Loading...\"}\n          {/if}\n        </td>\n      </tr>\n    {/each}\n  </table>\n</div>\n","import Stanza from \"togostanza/stanza\";\nimport toCamelCase from \"../../lib/CamelCase\";\nimport App from \"./App.svelte\";\n\nexport default class GeneKeyvalue extends Stanza {\n  app = null;\n\n  async render() {\n    if (this.app) {\n      this.root.querySelector(\"main > .heatmap-table\").remove();\n    }\n    this.app = new App({\n      target: this.root.querySelector(\"main\"),\n      props: {\n        term: toCamelCase(this.params)[\"stanzaTerm\"],\n        root: this.root.querySelector(\"main\"),\n      },\n    });\n  }\n}\n"],"names":[],"mappings":"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"}