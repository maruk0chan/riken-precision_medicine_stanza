{"version":3,"file":"annotation-keyvalue.js","sources":["../../../../../../../Users/marco.chan/Workspace/PMDB/riken-precision_medicine_stanza/stanzas/annotation-keyvalue/data.js","../../../../../../../Users/marco.chan/Workspace/PMDB/riken-precision_medicine_stanza/stanzas/annotation-keyvalue/App.svelte","../../../../../../../Users/marco.chan/Workspace/PMDB/riken-precision_medicine_stanza/stanzas/annotation-keyvalue/index.js"],"sourcesContent":["export const annotationTh = [\n  \"Significance\",\n  \"Disease name\",\n  \"Number of Variants\",\n];\nexport const annotationList = [\n  {\n    th: \"MGeND\",\n    significance: \"pathgenic\",\n    diseaseName: \"xxx\",\n    numberOfVariants: \"xxx\",\n  },\n  {\n    th: \"ClinVar\",\n    significance: \"pathgenic\",\n    diseaseName: \"xxx\",\n    numberOfVariants: \"xxx\",\n  },\n  {\n    th: \"OncoKB\",\n    significance: \"oncogenic\",\n    diseaseName: \"xxx\",\n    numberOfVariants: \"xxx\",\n  },\n];\n\nexport const oncoKbTh = [\"Oncogenic\", \"Mutation Effect\"];\nexport const oncoKbList = [{ oncogenic: \"xxx\", mutationEffect: \"xxx\" }];\n\nexport const oncoKbLevelList = [\n  { key: \"Asimertinib\", value: \"3A\" },\n  { key: \"Afatinib\", value: \"1B\" },\n];\n\nexport const predictionScoreTh = [\n  \"CADD\",\n  \"fathmm-MKL\",\n  \"LRT\",\n  \"MutationTaster\",\n  \"MutationAssessor\",\n  \"Polyphen2_HDIV\",\n  \"Polyphen2_HVAR\",\n  \"PrimateAI\",\n  \"PROVEAN\",\n  \"REVEL\",\n  \"SIFT\",\n  \"SIFT4G\",\n  \"EVE\",\n];\nexport const predictionScore = [\n  0, 0.1, 0.15, 0.2, 0.3, 0.4, 0.5, 0.55, 0.6, 0.7, 0.8, 0.9, 1,\n];\n","<script>\n  import getColor from \"../../lib/ColorScale\";\n  import {\n    annotationTh,\n    oncoKbTh,\n    oncoKbLevelList,\n    predictionScoreTh,\n    predictionScore,\n  } from \"./data.js\";\n\n  $: annotation = {\n    default: [\n      {\n        diseases: [],\n        index: \"\",\n        number_of_variants: 0,\n        significance: [],\n      },\n      {\n        diseases: [],\n        index: \"\",\n        number_of_variants: 0,\n        significance: [],\n      },\n    ],\n    oncokb: [\n      {\n        mutation_effect: \"\",\n        oncogenic: \"\",\n      },\n    ],\n    prediction_score: [\n      {\n        CADD: 0,\n        LRT: 0,\n        MutationAssessor: 0,\n        MutationTaster: 0,\n        PROVEAN: 0,\n        Polyphen2_HDIV: 0,\n        Polyphen2_HVAR: 0,\n        PrimateAI: 0,\n        REVEL: 0,\n        SIFT4G: 0,\n        \"fathmm-MKL\": 0,\n      },\n    ],\n  };\n  // TODO: use this after api is not okay\n  // simulate api response\n  setTimeout(() => {\n    annotation = {\n      default: [\n        {\n          diseases: [\"Neuroblastoma 3\"],\n          index: \"clinvar\",\n          number_of_variants: 0,\n          significance: [\"Uncertain significance\"],\n        },\n        {\n          diseases: [\"\"],\n          index: \"mgennd\",\n          number_of_variants: 0,\n          significance: [\"\"],\n        },\n      ],\n      oncokb: [\n        {\n          mutation_effect: \"\",\n          oncogenic: \"\",\n        },\n      ],\n      prediction_score: [\n        {\n          CADD: 0.80477,\n          LRT: 0.47681,\n          MutationAssessor: 0.25572,\n          MutationTaster: 0.81001,\n          PROVEAN: 0.74051,\n          Polyphen2_HDIV: 0.90584,\n          Polyphen2_HVAR: 0.8317,\n          PrimateAI: 0.74897,\n          REVEL: 0.93266,\n          SIFT4G: 0.92824,\n          \"fathmm-MKL\": 0.89172,\n        },\n      ],\n    };\n  }, 1000);\n  // const handleFetchRequestDone = () => {\n  //   console.log(\"fetchRequestDone\");\n\n  //   const response = window.$fetchedData;\n  //   annotation = response.annotation;\n  // };\n  // window.addEventListener(\"fetchRequestDone\", handleFetchRequestDone);\n</script>\n\n<div class=\"annotation-keyvalue\">\n  <h3 class=\"h3 title\">Annotation</h3>\n  {#if !!annotation}\n    <!-- {annotation.default[0].diseases} -->\n  {/if}\n  <table class=\"table\">\n    <thead>\n      <tr>\n        {#each annotationTh as th, index}\n          <th colspan={index === 0 ? \"2\" : \"0\"}>{th}</th>\n        {/each}\n      </tr>\n    </thead>\n    <tbody>\n      {#each annotation.default as { index, significance, diseases, number_of_variants }}\n        <tr>\n          <th>{index}</th>\n          <td>{significance}</td>\n          <td>{diseases}</td>\n          <td>{number_of_variants}</td>\n        </tr>\n      {/each}\n    </tbody>\n  </table>\n\n  <h4 class=\"h4 title\">OncoKB</h4>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        {#each oncoKbTh as th}\n          <th>{th}</th>\n        {/each}\n      </tr>\n    </thead>\n    <tbody>\n      {#each annotation.oncokb as { mutation_effect, oncogenic }}\n        <tr>\n          <td>{oncogenic}</td>\n          <td>{mutation_effect}</td>\n        </tr>\n      {/each}\n    </tbody>\n  </table>\n\n  <h4 class=\"h4 title\">Annotation</h4>\n  <table class=\"table\">\n    <tbody>\n      {#each oncoKbLevelList as { key, value }}\n        <tr>\n          <th>{key}</th>\n          <td>{value}</td>\n        </tr>\n      {/each}\n    </tbody>\n  </table>\n\n  <h4 class=\"h4 title\">Prediction Score</h4>\n  <table class=\"heatmap\">\n    <thead>\n      <tr>\n        {#each predictionScoreTh as th}\n          <th class=\"th-heatmap\"><p>{th}</p></th>\n        {/each}\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        {#each predictionScore as score}\n          <td class=\"cell-td\">\n            <div class=\"cell\" style=\"background-color:{getColor(score)}\" />\n          </td>\n        {/each}\n      </tr>\n    </tbody>\n  </table>\n\n  <div class=\"legend\">\n    <p>benign</p>\n    <div class=\"legend-bar\" />\n    <p>pathogenic</p>\n  </div>\n</div>\n","import Stanza from \"togostanza/stanza\";\nimport App from \"./App.svelte\";\n\nexport default class AnnotationKeyvalue extends Stanza {\n  app = null;\n\n  async render() {\n    if (this.app) {\n      this.root.querySelector(\"main > .heatmap-table\").remove();\n    }\n    this.app = new App({\n      target: this.root.querySelector(\"main\"),\n      props: {\n        root: this.root.querySelector(\"main\"),\n      },\n    });\n  }\n}\n"],"names":[],"mappings":"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"}